<div class="card mb-5 mb-xl-10">
  <div
    class="card-header border-0 cursor-pointer"
    role="button"
    data-bs-toggle="collapse"
    data-bs-target="#kt_account_signin_method"
  >
    <div class="card-title m-0">
      <h3 class="fw-bolder m-0">
        <a href="https://aandb-consulting.com/contact" target="__blank"
          >Contact Us Page</a
        >
      </h3>
    </div>
  </div>
  <div
    class="d-flex justify-content-center align-items-center pt-20 pb-20"
    *ngIf="getEmailLoader"
  >
    <span class="indicator-progress" [style.display]="'block'">
      Please wait...{{ " " }}
      <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
    </span>
  </div>
  <div
    *ngIf="!getEmailLoader"
    id="kt_account_signin_method"
    class="collapse show"
  >
    <form [formGroup]="contactUSForm" (ngSubmit)="saveEmail()">
      <div class="card-body border-top p-9">
        <!-- Contact Us Sender Email -->
        <ng-container *ngIf="!showChangeEmailFormSender">
          <div class="d-flex flex-wrap align-items-center">
            <div id="kt_signin_email">
              <div class="fs-6 fw-bolder mb-1">Sender Email Settings</div>
              <div class="fw-bold text-gray-600" *ngIf="contactPageEmails">
               {{ contactPageEmails.smtpUser }}
              </div>
            </div>
            <div id="kt_signin_email_button" class="ms-auto">
              <button
                class="btn btn-light btn-active-light-primary"
                (click)="toggleEmailFormSender(true)"
              >
                Change Email Settings
              </button>
            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="showChangeEmailFormSender">
          <div class="row mb-6">
            <div class="col-lg-6 mb-4 mb-lg-0">
              <div class="fv-row mb-0">
                <label for="smtpHost" class="form-label fs-6 fw-bolder mb-3">SMTP Host</label>
                <input
                  type="text"
                  class="form-control form-control-lg form-control-solid"
                  id="smtpHost"
                  formControlName="smtpHost"
                  placeholder="SMTP Host"
                />
              </div>
            </div>
            <div class="col-lg-6">
              <div class="fv-row mb-0">
                <label for="smtpPort" class="form-label fs-6 fw-bolder mb-3">SMTP Port</label>
                <input
                  type="text"
                  class="form-control form-control-lg form-control-solid"
                  id="smtpPort"
                  formControlName="smtpPort"
                  placeholder="SMTP Port"
                />
              </div>
            </div>
          </div>
          <div class="row mb-6">
            <div class="col-lg-6 mb-4 mb-lg-0">
              <div class="fv-row mb-0">
                <label for="smtpUser" class="form-label fs-6 fw-bolder mb-3">SMTP User</label>
                <input
                  type="email"
                  class="form-control form-control-lg form-control-solid"
                  id="smtpUser"
                  formControlName="smtpUser"
                  placeholder="SMTP User Email"
                />
              </div>
            </div>
            <div class="col-lg-6">
              <div class="fv-row mb-0">
                <label for="smtpPass" class="form-label fs-6 fw-bolder mb-3" >SMTP Password</label>
                <div class="input-group input-group-lg">
                  <input
                    [type]="showPassword ? 'text' : 'password'"
                    class="form-control form-control-lg form-control-solid"
                    id="smtpPass"
                    formControlName="smtpPass"
                    placeholder="SMTP Password"
                  />
                  <span style="border:none" class="input-group-text cursor-pointer" (click)="togglePasswordVisibility()">
                    <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="d-flex">
            <button
              type="submit"
              class="btn btn-primary me-2 px-6"
              [disabled]="contactUSForm.invalid || isLoading"
            >
              <ng-container *ngIf="!isLoading"
                >Update Email Settings</ng-container
              >
              <ng-container *ngIf="isLoading">
                <span class="indicator-progress" [style.display]="'block'">
                  Please wait...{{ " " }}
                  <span
                    class="spinner-border spinner-border-sm align-middle ms-2"
                  ></span>
                </span>
              </ng-container>
            </button>
            <button
              type="button"
              class="btn btn-color-gray-500 btn-active-light-primary px-6"
              (click)="toggleEmailFormSender(false)"
            >
              Cancel
            </button>
          </div>
        </ng-container>
        <div class="separator separator-dashed my-6"></div>
        <!-- Contact Us Recpit Email -->
        <ng-container *ngIf="!showChangeEmailFormRecipt">
          <div class="d-flex flex-wrap align-items-center">
            <div id="kt_signin_email">
              <div class="fs-6 fw-bolder mb-1">Recipient Email Address</div>
              <div class="fw-bold text-gray-600" *ngIf="contactPageEmails">
                {{ contactPageEmails.recipientEmail }}
              </div>
            </div>
            <div id="kt_signin_email_button" class="ms-auto">
              <button class="btn btn-light btn-active-light-primary" (click)="toggleEmailFormRecipt(true)">
                Change Recipient Email
              </button>
            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="showChangeEmailFormRecipt">
          <div class="row mb-6">
            <div class="col-lg-6 mb-4 mb-lg-0">
              <div class="fv-row mb-0">
                <label for="recipientEmail" class="form-label fs-6 fw-bolder mb-3">Recipient Email Address</label>
                <input type="email" class="form-control form-control-lg form-control-solid" id="recipientEmail" formControlName="recipientEmail" placeholder="Recipient Email Address" />
              </div>
            </div>
          </div>
          <div class="d-flex">
            <button
              type="submit"
              class="btn btn-primary me-2 px-6"
              [disabled]="contactUSForm.invalid || isLoading"
            >
              <ng-container *ngIf="!isLoading"
                >Update Email Settings</ng-container
              >
              <ng-container *ngIf="isLoading">
                <span class="indicator-progress" [style.display]="'block'">
                  Please wait...{{ " " }}
                  <span
                    class="spinner-border spinner-border-sm align-middle ms-2"
                  ></span>
                </span>
              </ng-container>
            </button>
            <button
              type="button"
              class="btn btn-color-gray-500 btn-active-light-primary px-6"
              (click)="toggleEmailFormRecipt(false)"
            >
              Cancel
            </button>
          </div>
        </ng-container>
      </div>
    </form>
    <!-- _____ -->
  </div>
</div>
